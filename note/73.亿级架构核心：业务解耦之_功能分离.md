# 73 亿级架构核心：业务解耦之_功能分离


## 1、为什么要功能分离

主要目的还是为了 **一定要确保核心功能的高可用。**


## 2、如何进行分离

### 1 、按照功能的重要程度进行分离

按照功能的重要程度，划分成核心功能和非核心功能，比如登录，注册就是核心功能。

但是一些用户信息的修改，就可以划分到非核心功能。

任何功能的划分都需要结合实际业务，没有绝对核心和非核心之说。

对不同重要程度的功能，可以采用不同的应对策略，比如隔离策略，降级策略，重试策略等。

### 2、按照功能的流量特定

比如在秒杀系统中，有一些功能是流量突发性，还有一些功能是流量平缓型的。

应对策略可以进行隔离，防止大流量造成服务不可用。

具体的实施策略可以有以下：

单独的域名，服务层，单独的缓存或数据库	。

为了保障核心功能的使用，数据隔离可以保障非核心功能的数据不会影响到核心功能的数据，尤其涉及到数据库的慢SQL时，隔离时非常有必要的。

功能降级也是一种应对策略，降级就是将一些非核心的功能不做展示或者只展示一些静态数据。

功能降级可以分成自动和手动，自动的话可以配置一些指标，当触发指标阈值的时候，触发熔断，返回指定的fallback方法。

也可有手动设置开关，写到配置文件中，可以动态的设置开关，来达到降级的目的。




> **当然还会有很多其他的分离方式和应对策略，后续不断补充。**
























